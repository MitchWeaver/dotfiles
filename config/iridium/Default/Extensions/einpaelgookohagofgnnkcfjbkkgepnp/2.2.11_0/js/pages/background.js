"use strict";!function(){var e=new Timer("User-Agent renew timer",function(){API.useragent.renew()});Settings.onSet=function(t,n){switch(t){case"enabled":UI.changeStateIcon(!0===n?"active":"disabled");break;case"renew_interval":e.setInterval(n),console.log('"'+e.getName()+'" updated to "'+n+'"');break;case"renew_enabled":!0===n&&e.start()||e.stop(),console.log('"'+e.getName()+'" changed state to "'+n+'"')}},Settings.hasOwnProperty("isLoaded")&&!0===Settings.isLoaded||Settings.load(function(){API.settings.getRenewOnstartupEnabled()&&API.useragent.renew(),e.setInterval(API.settings.getRenewIntervalInMicroseconds()),API.settings.getRenewEnabled()&&e.start(),UI.changeStateIcon(!0===API.settings.getEnabled()?"active":"disabled")}),chrome.storage.onChanged.addListener(function(){!0===Settings.sync&&Settings.load(function(){console.info("Settings synchronized")})}),chrome.tabs.onUpdated.addListener(function(e,t,n){"loading"===t.status&&function(e){var t="disabled";API.settings.getEnabled()&&(t=API.exceptions.uriMatch({uri:e.url})?"inactive":"active"),UI.changeStateIcon(t,e.id)}(n)})}();